<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

    <meta charset="utf-8" />
    <title>Task 6</title>

    <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
        integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous">
    </script>

    <script type="application/javascript">
        window.onload = function () {
            function createFamilyTree() {
                $("body").append($("<table></table>"));
                $("table").append($("<thead></thead>"));
                $("thead").append($("<tr></tr>"));
                $("tr").append($("<th></th>").text("Firstname"), $("<th></th>").text("Lastname"));
                $("table").append($("<tbody></tbody>"));
            }
            function addNewMember(firstName, lastName, position) {
                if (position == "before") {
                    $("tbody").prepend($("<tr></tr>"));
                    $("tbody tr:first-child").append(
                        $("<td></td>").text(firstName),
                        $("<td></td>").text(lastName),
                        $("<td></td>").text("(x)").css("background", "orange").click(
                            function () {
                                $(this).closest("tr").remove();
                            }
                        )
                    );
                } else {
                    $("tbody").append($("<tr></tr>"));
                    $("tbody tr:last-child").append(
                        $("<td></td>").text(firstName),
                        $("<td></td>").text(lastName),
                        $("<td></td>").text("(x)").css("background", "orange").click(
                            function () {
                                $(this).closest("tr").remove();
                            }
                        )
                    );
                }
            }
            function createForm() {
                $("body").prepend($('<input type="text">'));
                $("body").prepend($('<input type="text">'));
                $("table").before($('<select></select>'));
                $("select").append($('<option value="before"></option>').text("Before"));
                $("select").append($('<option value="after"></option>').text("After"));
                $("table").before($('<input type="submit">').click(
                        function () {
                            firstName = $("input").first().val();
                            lastName = $("input:nth-of-type(2)").val();
                            position = $("select").val();
                            addNewMember(firstName, lastName, position);
                        }
                    )
                );
            }
            createFamilyTree();
            createForm();
        }
    </script>

</head>

<body>
</body>

</html>
