<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

    <meta charset="utf-8" />
    <title>Task 10</title>

    <!-- <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
        integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous">
    </script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous">
    </script>

    <script type="application/javascript">
        window.onload = function () {
            listPosts()
            function addPostRow(data){
                $("body").append($('<p></p>'));
                $("body:last-child").append($('<span></span>').text(`Post created with id ${data.id}, title: ${data.title}, author: ${data.author}`));
            }
            function listPosts() {
                $.get("./db.json", function (data, statusText, xhr) {
                    if (xhr.status == 200) {
                        for (let post of data.posts) {
                            addPostRow(post)
                        }
                    }
                    else if (xhr.status == 503) {
                        alert("Server Error")
                    }
                }, "json");
            }
        }
    </script>

</head>

<body>
</body>

</html>
